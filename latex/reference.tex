\section{Reference}
\label{reference}

\subsection{\bms\ Manifest File}
\label{sec:manifest}

The \bms\ manifest file is the root file of every \bms\ visualization.
Every visualization should provide at least one manifest file.
It contains the configuration for the visualization formatted using JSON (JavaScript Object Notation)\footnote{\url{http://www.json.org}.}.
Hence, the manifest filename must end with \texttt{.json} (denoting a JSON file).
The following options (and defaults) are available:

\begin{itemize}
	\item[] \textbf{name [Type: String, Default value: MyVisualization]:}\\The name of the visualization. 
	\item[] \textbf{views [Type: list]:}\\ List of view objects that are opened in separate windows.
	At least one view must exists.
	A view object has the following options:
	\begin{itemize}
		\item[] \textbf{id [Type: String, \textit{Required}]:}\\ Unique id of the view.
		\item[] \textbf{template [Type: String, \textit{Required}]:}\\ The relative path to the HTML visualization file (e.g. ``template.html'').
		\item[] \textbf{name [Type: String]:}\\ The name of the view.
		\item[] \textbf{width [Type: Integer]:}\\ The width of the view.
		\item[] \textbf{height [Type: Integer]:}\\ The height of the view.
		\item[] \textbf{autoOpen [Type: Array, Default value: ['Events']]:}\\Specify the ProB views which should be opened automatically in the respective view when starting the visualization. 
The following views are available: \textit{CurrentTrace}, \textit{Events}, \textit{StateInspector}, \textit{CurrentAnimations}, \textit{GroovyConsoleSession}, \textit{ModelCheckingUI}.
	\end{itemize}
	\item[] \textbf{model [Type: String, \textit{Required}]:}\\The relative path to the model file (e.g. ``model/mymodel.mch'').
	\item[] \textbf{tool [Type: String, Default value: BAnimation]:}\\The formalism / tool to be used. Currently two values and formalism are supported: \textit{BAnimation} for creating visualizations of Event-B or Classical-B models and \textit{CSPAnimation} for creating visualizations of CSP-M models.
\end{itemize}

Example \bms\ manifest file (e.g. \texttt{lift.json}):

\begin{lstlisting}[language=JavaScript]
{
  "name": "Simple lift",
  "views": [
    {
      "id": "lift",
      "name": "Lift environment",
      "template": "lift.html",
      "autoOpen": [
        "CurrentTrace",
        "Events"
      ]
    },
    {
      "id": "buttons",
      "name": "Lift control",
      "template": "control.html",
      "width": 300,
      "height": 200
    }
  ],
  "model": "model/lift.mch",
  "tool": "BAnimation"
}
\end{lstlisting}

\subsection{\texttt{bmotion.json} Configuration File}
\label{sec:configfile}

The \texttt{bmotion.json} config file is located in the \texttt{resources} folder of your \bms\ installation.
It contains the configuration for the \bms\ application formatted using JSON (JavaScript Object Notation)\footnote{\url{http://www.json.org}.}.

\warning{Please note: Normally, the user should not edit this file!}

The following options (and defaults) are available:

\begin{itemize}

	\item[] \textbf{socket [Type: object]:}\\ Settings for websocket server. The following options are available:
	\begin{itemize}
		\item[] \textbf{host [Type: String, Default value: localhost]:}\\ The host for the websocket server.
		\item[] \textbf{port [Type: String, Default value: 19090]:}\\ The port for the websocket server.
	\end{itemize}

	\item[] \textbf{prob [Type: object]:}\\ Settings for websocket server. The following options are available:
	\begin{itemize}
		\item[] \textbf{host [Type: String, Default value: localhost]:}\\ The host for the ProB2 server.
		\item[] \textbf{binary [Type: String, Default value: ./cli/]:}\\ Path to ProB binary.
	\end{itemize}

\end{itemize}